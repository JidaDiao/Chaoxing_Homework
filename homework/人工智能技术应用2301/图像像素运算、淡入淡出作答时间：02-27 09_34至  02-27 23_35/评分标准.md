### 整体评分标准 (总分100分)

**通用规则:**
1.  每道题25分,共4道题。
2.  代码中包含用于调试的`cv2.imshow()`等非必要代码不扣分。
3.  文件路径与参考答案不一致（如'img/' vs 'sucai2/'）不扣分,视为本地配置差异。
4.  完全未作答或提交与题目完全无关的代码,该题得0分。
5.  代码逻辑是完成后续题目的任务,则本题不得分,因为没有按步骤完成。

--- 

### 题目1:生成密钥与加密图像 (25分)
*   **(5分)** 成功导入`cv2`和`numpy`库。
*   **(5分)** 使用`cv2.imread`正确读取了“dcz.jpg”图像。
*   **(5分)** 使用`np.random.randint`生成了与原图尺寸、数据类型一致的密钥`key`。
*   **(5分)** 使用`cv2.bitwise_xor`对图像和密钥进行了异或加密操作。
*   **(5分)** 使用`cv2.imwrite`将加密图像保存为“secret.png”**并且**将密钥图像保存为“key.png”。（每保存成功一个文件得2.5分）

### 题目2:生成面部区域掩膜 (25分)
*   **(5分)** 成功导入所需库。
*   **(5分)** 正确读取了“dcz.jpg”图像以获取其形状信息。
*   **(5分)** 使用`np.zeros`创建了一个与原图尺寸相同的全黑掩膜图像`mask`。
*   **(5分)** 使用数组切片`mask[90:630, 180:730] = 255`将指定面部区域设置为白色。
*   **(5分)** **必须**使用`cv2.imwrite`将生成的掩膜保存为“mask.png”。缺少此步骤,即使代码正确,也要扣除此项分数。

### 题目3:替换面部为加密内容 (25分)
*   **(5分)** 正确使用`cv2.imread`读取了原图“dcz.jpg”。
*   **(5分)** 正确使用`cv2.imread`读取了**题目1中生成的“secret.png”**。如果此处重新生成密钥或加密图像,则视为逻辑错误,此项及后续步骤不得分。
*   **(10分)** 正确使用切片赋值操作 `dcz[90:630, 180:730] = secret[90:630, 180:730]` 来完成面部区域的替换。若使用其他复杂的位运算等错误逻辑,则此项不得分。
*   **(5分)** 正确使用`cv2.imwrite`将修改后的图像保存为“dcz_secret.png”。

### 题目4:解密并还原面部 (25分)
*   **(5分)** 正确读取了三个必需的文件:“dcz_secret.png”、“key.png”和“mask.png”。每正确读取一个得1.7分。
*   **(5分)** 使用`cv2.bitwise_and`与掩膜`mask`,从“dcz_secret.png”中准确提取出加密的面部区域。
*   **(5分)** 使用`cv2.bitwise_xor`与密钥`key`,对上一步提取的加密面部区域进行解密,得到原始面部。
*   **(10分)** 实现了最终的图像还原。标准方法是:1. 将“dcz_secret.png”与反向掩膜(`cv2.bitwise_not(mask)`)进行“与”运算,得到不包含面部的背景。2. 将此背景与解密后的面部区域通过`cv2.add`或`cv2.bitwise_or`合并。任何能实现最终正确效果的逻辑均可得分。若代码逻辑完全错误,则此项不得分。